{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./LoginPage.css\";import{useNavigate}from\"react-router-dom\";import{useAuth}from\"../Auth/Store_Token/Utils_Token\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function LoginPage(){var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useAuth=useAuth(),storeToken=_useAuth.storeToken;var Changeelemet=function Changeelemet(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var submitlogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var loginresponse,loginData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fetch(\"\".concat(window.location.origin,\"/api/auth/login\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(user)});case 4:loginresponse=_context.sent;console.log(\"login data\",loginresponse);if(!loginresponse.ok){_context.next=17;break;}_context.next=9;return loginresponse.json();case 9:loginData=_context.sent;alert(\"login successful\");storeToken(loginData.token);setUser({email:\"\",password:\"\"});navigate(\"/\");console.log(loginData);_context.next=18;break;case 17:console.log(\"error inside response \",\"error\");case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](1);console.error(\"Error\",_context.t0);case 23:case\"end\":return _context.stop();}},_callee,null,[[1,20]]);}));return function submitlogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"logincnt\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logincnt_right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logincnt_header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Login Form\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitlogin,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loginform\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter your email id\",required:true,autoCapitalize:\"off\",value:user.email,onChange:Changeelemet})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginform\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter your Password\",required:true,autoCapitalize:\"off\",value:user.password,onChange:Changeelemet})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn9\",children:\"Login Here\"})]})]})})});}","map":{"version":3,"names":["React","useState","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginPage","navigate","_useState","email","password","_useState2","_slicedToArray","user","setUser","_useAuth","storeToken","Changeelemet","e","_e$target","target","name","value","_objectSpread","_defineProperty","submitlogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","loginresponse","loginData","wrap","_callee$","_context","prev","next","preventDefault","fetch","concat","window","location","origin","method","headers","body","JSON","stringify","sent","console","log","ok","json","alert","token","t0","error","stop","_x","apply","arguments","children","className","onSubmit","htmlFor","type","placeholder","required","autoCapitalize","onChange"],"sources":["C:/Users/91725/Downloads/Healthicious/Client/src/components/Auth/LoginPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./LoginPage.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../Auth/Store_Token/Utils_Token\";\r\n\r\nexport default function LoginPage() {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState({\r\n    email: \"\",\r\n    password: \"\"\r\n  });\r\n\r\n  const { storeToken } = useAuth();\r\n\r\n  const Changeelemet = (e) => {\r\n    let { name, value } = e.target;\r\n    setUser({\r\n      ...user,\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  const submitlogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const loginresponse = await fetch(`${window.location.origin}/api/auth/login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user),\r\n      });\r\n      console.log(\"login data\", loginresponse);\r\n\r\n      if (loginresponse.ok) {\r\n        const loginData = await loginresponse.json();\r\n        alert(\"login successful\");\r\n        storeToken(loginData.token);\r\n\r\n        setUser({ email: \"\", password: \"\" });\r\n        navigate(\"/\");\r\n        console.log(loginData);\r\n      } else {\r\n        console.log(\"error inside response \", \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='logincnt'>\r\n        <div className='logincnt_right'>\r\n          <div className='logincnt_header'>\r\n            <h1>Login Form</h1>\r\n          </div>\r\n\r\n          <form onSubmit={submitlogin}>\r\n            <div className='loginform'>\r\n              <label htmlFor='email'>Email</label>\r\n              <input type='email' name='email' placeholder='Enter your email id' required autoCapitalize='off' value={user.email} onChange={Changeelemet} />\r\n            </div>\r\n\r\n            <div className='loginform'>\r\n              <label htmlFor='password'>Password</label>\r\n              <input type='password' name='password' placeholder='Enter your Password' required autoCapitalize='off' value={user.password} onChange={Changeelemet} />\r\n            </div>\r\n\r\n            <br />\r\n\r\n            <button type=\"submit\" className=\"btn9\">Login Here</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n    \r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}