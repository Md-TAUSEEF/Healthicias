{"ast":null,"code":"import _defineProperty from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../Auth/Store_Token/Utils_Token';import{useParams}from'react-router-dom';import'./UpdatePage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Updatepage(){var _useAuth=useAuth(),Authorization=_useAuth.Authorization;var _useParams=useParams(),id=_useParams.id;var _useState=useState({username:'',email:'',phone:''}),_useState2=_slicedToArray(_useState,2),contact=_useState2[0],setContact=_useState2[1];useEffect(function(){var fetchContact=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(window.location.origin,\"/api/form/single/contact/\").concat(id),{method:'GET',headers:{'Content-Type':'application/json','Authorization':Authorization}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setContact(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchContact(){return _ref.apply(this,arguments);};}();if(id){fetchContact();}},[id,Authorization]);var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setContact(_objectSpread(_objectSpread({},contact),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return fetch(\"\".concat(window.location.origin,\"/api/form/users/update/\").concat(id),{method:'PATCH',headers:{'Content-Type':'application/json','Authorization':Authorization},body:JSON.stringify(contact)});case 4:alert(\"Update successfully\");setContact({username:\"\",email:\"\",phone:\"\"});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"updatepage\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Username:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:contact.username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:contact.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Phone:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",value:contact.phone,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Contact\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","useAuth","useParams","jsx","_jsx","jsxs","_jsxs","Updatepage","_useAuth","Authorization","_useParams","id","_useState","username","email","phone","_useState2","_slicedToArray","contact","setContact","fetchContact","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","window","location","origin","method","headers","sent","json","t0","console","error","stop","apply","arguments","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_ref2","_callee2","_callee2$","_context2","preventDefault","body","JSON","stringify","alert","_x","className","children","onSubmit","type","onChange"],"sources":["C:/Users/91725/Downloads/Healthicious/Client/src/components/Dashboard/Updatepage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../Auth/Store_Token/Utils_Token';\r\nimport { useParams } from 'react-router-dom';\r\nimport './UpdatePage.css';\r\nexport default function Updatepage() {\r\n    const { Authorization } = useAuth();\r\n    const { id } = useParams(); \r\n\r\n    const [contact, setContact] = useState({\r\n        username: '',\r\n        email: '',\r\n        phone: ''\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchContact = async () => {\r\n            try {\r\n                const response = await fetch(`${window.location.origin}/api/form/single/contact/${id}`, {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': Authorization\r\n                    }\r\n                });\r\n                const data = await response.json();\r\n                setContact(data);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n        if (id) {\r\n            fetchContact();\r\n        }\r\n    }, [id, Authorization]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setContact({\r\n            ...contact,\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await fetch(`${window.location.origin}/api/form/users/update/${id}`, {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': Authorization\r\n                },\r\n                body: JSON.stringify(contact)\r\n                \r\n            });\r\n            alert(\"Update successfully\")\r\n            setContact({\r\n                username:\"\",\r\n                email:\"\",\r\n                phone:\"\"\r\n            })\r\n            \r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='updatepage'>\r\n           \r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    Username:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"username\"\r\n                        value={contact.username}\r\n                        onChange={handleChange}\r\n                    />\r\n                </label>\r\n                <label>\r\n                    Email:\r\n                    <input\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        value={contact.email}\r\n                        onChange={handleChange}\r\n                    />\r\n                </label>\r\n                <label>\r\n                    Phone:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"phone\"\r\n                        value={contact.phone}\r\n                        onChange={handleChange}\r\n                    />\r\n                </label>\r\n                <button type=\"submit\">Update Contact</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}