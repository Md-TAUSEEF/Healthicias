{"ast":null,"code":"import _slicedToArray from\"C:/Users/91725/Downloads/Healthicious-main/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useContext,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();export var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState(localStorage.getItem(\"token\")),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var Authorization=\"Bearer \".concat(token);// Function to store the token in local storage\nvar storeToken=function storeToken(serverToken){setToken(serverToken);localStorage.setItem(\"token\",serverToken);};// Check if the user is logged in based on the token\nvar isLoggedIn=!!token;// Function to log out the user\nvar logoutUser=function logoutUser(){setToken(\"\");localStorage.removeItem(\"token\");};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{storeToken:storeToken,isLoggedIn:isLoggedIn,logoutUser:logoutUser,Authorization:Authorization},children:children});};export var useAuth=function useAuth(){var context=useContext(AuthContext);if(!context){throw new Error(\"useAuth must be used within an AuthProvider\");}return context;};","map":{"version":3,"names":["createContext","useContext","useState","jsx","_jsx","AuthContext","AuthProvider","_ref","children","_useState","localStorage","getItem","_useState2","_slicedToArray","token","setToken","Authorization","concat","storeToken","serverToken","setItem","isLoggedIn","logoutUser","removeItem","Provider","value","useAuth","context","Error"],"sources":["C:/Users/91725/Downloads/Healthicious-main/Client/src/components/Auth/Store_Token/Utils_Token.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\r\n\r\n  const Authorization = `Bearer ${token}`;\r\n\r\n  // Function to store the token in local storage\r\n  const storeToken = (serverToken) => {\r\n    setToken(serverToken);\r\n    localStorage.setItem(\"token\", serverToken);\r\n  };\r\n\r\n  // Check if the user is logged in based on the token\r\n  const isLoggedIn = !!token;\r\n\r\n  // Function to log out the user\r\n  const logoutUser = () => {\r\n    setToken(\"\");\r\n    localStorage.removeItem(\"token\");\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ storeToken, isLoggedIn, logoutUser, Authorization }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n  return context;\r\n};\r\n"],"mappings":"uIAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,MAAO,IAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,CAAC,CAE1C,MAAO,IAAM,CAAAM,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACrC,IAAAC,SAAA,CAA0BP,QAAQ,CAACQ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAA1DK,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,aAAa,WAAAC,MAAA,CAAaH,KAAK,CAAE,CAEvC;AACA,GAAM,CAAAI,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,WAAW,CAAK,CAClCJ,QAAQ,CAACI,WAAW,CAAC,CACrBT,YAAY,CAACU,OAAO,CAAC,OAAO,CAAED,WAAW,CAAC,CAC5C,CAAC,CAED;AACA,GAAM,CAAAE,UAAU,CAAG,CAAC,CAACP,KAAK,CAE1B;AACA,GAAM,CAAAQ,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvBP,QAAQ,CAAC,EAAE,CAAC,CACZL,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC,CAClC,CAAC,CAED,mBACEnB,IAAA,CAACC,WAAW,CAACmB,QAAQ,EAACC,KAAK,CAAE,CAAEP,UAAU,CAAVA,UAAU,CAAEG,UAAU,CAAVA,UAAU,CAAEC,UAAU,CAAVA,UAAU,CAAEN,aAAa,CAAbA,aAAc,CAAE,CAAAR,QAAA,CAChFA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,MAAO,IAAM,CAAAkB,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAC3B,GAAM,CAAAC,OAAO,CAAG1B,UAAU,CAACI,WAAW,CAAC,CACvC,GAAI,CAACsB,OAAO,CAAE,CACZ,KAAM,IAAI,CAAAC,KAAK,CAAC,6CAA6C,CAAC,CAChE,CACA,MAAO,CAAAD,OAAO,CAChB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}