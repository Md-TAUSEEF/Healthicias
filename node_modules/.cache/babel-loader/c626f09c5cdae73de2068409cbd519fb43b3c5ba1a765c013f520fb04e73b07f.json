{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/91725/Downloads/Healthicious/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./Registor.css\";import{useNavigate}from\"react-router-dom\";import{useAuth}from\"../Auth/Store_Token/Utils_Token\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Registor(){var navigate=useNavigate();var _useState=useState({username:\"\",email:\"\",phone:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useAuth=useAuth(),storeToken=_useAuth.storeToken;var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,responseData,errorText;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(user);_context.prev=2;_context.next=5;return fetch(\"\".concat(window.location.origin,\"/api/auth/registor\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(user)});case 5:response=_context.sent;console.log(\"response data: \",response);if(!response.ok){_context.next=18;break;}_context.next=10;return response.json();case 10:responseData=_context.sent;console.log(responseData);alert(\"Registration successful\");storeToken(responseData.token);setUser({username:\"\",email:\"\",phone:\"\",password:\"\"});navigate(\"/login\");_context.next=23;break;case 18:_context.next=20;return response.text();case 20:errorText=_context.sent;console.error(\"Error inside response: \",errorText);alert(\"Error: \".concat(errorText));case 23:_context.next=29;break;case 25:_context.prev=25;_context.t0=_context[\"catch\"](2);console.error(\"Error\",_context.t0);alert(\"Error: \".concat(_context.t0.message));case 29:case\"end\":return _context.stop();}},_callee,null,[[2,25]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"registorcnt\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"registorcnt_right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"registor_right_head\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Registration form\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form_row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Enter here user name\",required:true,autoComplete:\"off\",value:user.username,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"row2\",type:\"email\",name:\"email\",placeholder:\"Enter here user email\",required:true,autoComplete:\"off\",value:user.email,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{className:\"row2\",type:\"number\",name:\"phone\",placeholder:\"Enter here user phone number\",required:true,autoComplete:\"off\",value:user.phone,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter here password\",required:true,autoComplete:\"off\",value:user.password,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Register Now\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xA9Copyright\",/*#__PURE__*/_jsx(\"span\",{children:\"Dsk Technology\"})]})})]});}","map":{"version":3,"names":["React","useState","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Registor","navigate","_useState","username","email","phone","password","_useState2","_slicedToArray","user","setUser","_useAuth","storeToken","handleInputChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","responseData","errorText","wrap","_callee$","_context","prev","next","preventDefault","console","log","fetch","concat","window","location","origin","method","headers","body","JSON","stringify","sent","ok","json","alert","token","text","error","t0","message","stop","_x","apply","arguments","children","className","onSubmit","htmlFor","type","placeholder","required","autoComplete","onChange"],"sources":["C:/Users/91725/Downloads/Healthicious/Client/src/components/Auth/Registor.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./Registor.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../Auth/Store_Token/Utils_Token\";\r\n\r\nexport default function Registor() {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState({\r\n    username: \"\",\r\n    email: \"\", \r\n    phone: \"\",\r\n    password: \"\"\r\n  });\r\n\r\n  const { storeToken } = useAuth();\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({\r\n      ...user,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(user);\r\n\r\n    try {\r\n      const response = await fetch(`${window.location.origin}/api/auth/registor`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user),\r\n      });\r\n      console.log(\"response data: \", response);\r\n\r\n      if (response.ok) {\r\n        const responseData = await response.json();\r\n        console.log(responseData);\r\n        alert(\"Registration successful\");\r\n        storeToken(responseData.token);\r\n        setUser({ username: \"\", email: \"\", phone: \"\", password: \"\" });\r\n        navigate(\"/login\");\r\n      } else {\r\n        const errorText = await response.text();\r\n        console.error(\"Error inside response: \", errorText);\r\n        alert(`Error: ${errorText}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error\", error);\r\n      alert(`Error: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"registorcnt\">\r\n        <div className=\"registorcnt_right\">\r\n          <div className=\"registor_right_head\">\r\n            <h1>Registration form</h1>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form_row\">\r\n              <label htmlFor=\"username\">Username</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                placeholder=\"Enter here user name\"\r\n                required\r\n                autoComplete=\"off\"\r\n                value={user.username}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form_row\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                className=\"row2\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Enter here user email\"\r\n                required\r\n                autoComplete=\"off\"\r\n                value={user.email}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form_row\">\r\n              <label htmlFor=\"phone\">Phone</label>\r\n              <input\r\n                className=\"row2\"\r\n                type=\"number\"\r\n                name=\"phone\"\r\n                placeholder=\"Enter here user phone number\"\r\n                required\r\n                autoComplete=\"off\"\r\n                value={user.phone}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form_row\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Enter here password\"\r\n                required\r\n                autoComplete=\"off\"\r\n                value={user.password}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n            <br />\r\n            <button type=\"submit\" className=\"btn\">Register Now</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"footer\">\r\n        <p>Â©Copyright<span>Dsk Technology</span></p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"2pBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,gBAAgB,CACvB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1D,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CACjC,GAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,IAAAU,SAAA,CAAwBX,QAAQ,CAAC,CAC/BY,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACZ,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAN,SAAA,IALKO,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAOpB,IAAAI,QAAA,CAAuBlB,OAAO,CAAC,CAAC,CAAxBmB,UAAU,CAAAD,QAAA,CAAVC,UAAU,CAElB,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,CAAC,CAAK,CAC/B,IAAAC,SAAA,CAAwBD,CAAC,CAACE,MAAM,CAAxBC,IAAI,CAAAF,SAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,SAAA,CAALG,KAAK,CACnBR,OAAO,CAAAS,aAAA,CAAAA,aAAA,IACFV,IAAI,KAAAW,eAAA,IACNH,IAAI,CAAGC,KAAK,EACd,CAAC,CACJ,CAAC,CAED,GAAM,CAAAG,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOZ,CAAC,MAAAa,QAAA,CAAAC,YAAA,CAAAC,SAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC3BpB,CAAC,CAACqB,cAAc,CAAC,CAAC,CAClBC,OAAO,CAACC,GAAG,CAAC5B,IAAI,CAAC,CAACuB,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGO,CAAAI,KAAK,IAAAC,MAAA,CAAIC,MAAM,CAACC,QAAQ,CAACC,MAAM,uBAAsB,CAC1EC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACtC,IAAI,CAC3B,CAAC,CAAC,QANIkB,QAAQ,CAAAK,QAAA,CAAAgB,IAAA,CAOdZ,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEV,QAAQ,CAAC,CAAC,IAErCA,QAAQ,CAACsB,EAAE,EAAAjB,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAE,IAAA,UACc,CAAAP,QAAQ,CAACuB,IAAI,CAAC,CAAC,SAApCtB,YAAY,CAAAI,QAAA,CAAAgB,IAAA,CAClBZ,OAAO,CAACC,GAAG,CAACT,YAAY,CAAC,CACzBuB,KAAK,CAAC,yBAAyB,CAAC,CAChCvC,UAAU,CAACgB,YAAY,CAACwB,KAAK,CAAC,CAC9B1C,OAAO,CAAC,CAAEP,QAAQ,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC7DL,QAAQ,CAAC,QAAQ,CAAC,CAAC+B,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAE,IAAA,UAEK,CAAAP,QAAQ,CAAC0B,IAAI,CAAC,CAAC,SAAjCxB,SAAS,CAAAG,QAAA,CAAAgB,IAAA,CACfZ,OAAO,CAACkB,KAAK,CAAC,yBAAyB,CAAEzB,SAAS,CAAC,CACnDsB,KAAK,WAAAZ,MAAA,CAAWV,SAAS,CAAE,CAAC,CAAC,QAAAG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAuB,EAAA,CAAAvB,QAAA,aAG/BI,OAAO,CAACkB,KAAK,CAAC,OAAO,CAAAtB,QAAA,CAAAuB,EAAO,CAAC,CAC7BJ,KAAK,WAAAZ,MAAA,CAAWP,QAAA,CAAAuB,EAAA,CAAMC,OAAO,CAAE,CAAC,CAAC,yBAAAxB,QAAA,CAAAyB,IAAA,MAAA/B,OAAA,iBAEpC,kBA9BK,CAAAL,YAAYA,CAAAqC,EAAA,SAAApC,IAAA,CAAAqC,KAAA,MAAAC,SAAA,OA8BjB,CAED,mBACE/D,KAAA,CAAAE,SAAA,EAAA8D,QAAA,eACElE,IAAA,QAAKmE,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1BhE,KAAA,QAAKiE,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChClE,IAAA,QAAKmE,SAAS,CAAC,qBAAqB,CAAAD,QAAA,cAClClE,IAAA,OAAAkE,QAAA,CAAI,mBAAiB,CAAI,CAAC,CACvB,CAAC,cAENhE,KAAA,SAAMkE,QAAQ,CAAE1C,YAAa,CAAAwC,QAAA,eAC3BhE,KAAA,QAAKiE,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvBlE,IAAA,UAAOqE,OAAO,CAAC,UAAU,CAAAH,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1ClE,IAAA,UACEsE,IAAI,CAAC,MAAM,CACXhD,IAAI,CAAC,UAAU,CACfiD,WAAW,CAAC,sBAAsB,CAClCC,QAAQ,MACRC,YAAY,CAAC,KAAK,CAClBlD,KAAK,CAAET,IAAI,CAACN,QAAS,CACrBkE,QAAQ,CAAExD,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNhB,KAAA,QAAKiE,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvBlE,IAAA,UAAOqE,OAAO,CAAC,OAAO,CAAAH,QAAA,CAAC,OAAK,CAAO,CAAC,cACpClE,IAAA,UACEmE,SAAS,CAAC,MAAM,CAChBG,IAAI,CAAC,OAAO,CACZhD,IAAI,CAAC,OAAO,CACZiD,WAAW,CAAC,uBAAuB,CACnCC,QAAQ,MACRC,YAAY,CAAC,KAAK,CAClBlD,KAAK,CAAET,IAAI,CAACL,KAAM,CAClBiE,QAAQ,CAAExD,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNhB,KAAA,QAAKiE,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvBlE,IAAA,UAAOqE,OAAO,CAAC,OAAO,CAAAH,QAAA,CAAC,OAAK,CAAO,CAAC,cACpClE,IAAA,UACEmE,SAAS,CAAC,MAAM,CAChBG,IAAI,CAAC,QAAQ,CACbhD,IAAI,CAAC,OAAO,CACZiD,WAAW,CAAC,8BAA8B,CAC1CC,QAAQ,MACRC,YAAY,CAAC,KAAK,CAClBlD,KAAK,CAAET,IAAI,CAACJ,KAAM,CAClBgE,QAAQ,CAAExD,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNhB,KAAA,QAAKiE,SAAS,CAAC,UAAU,CAAAD,QAAA,eACvBlE,IAAA,UAAOqE,OAAO,CAAC,UAAU,CAAAH,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1ClE,IAAA,UACEsE,IAAI,CAAC,UAAU,CACfhD,IAAI,CAAC,UAAU,CACfiD,WAAW,CAAC,qBAAqB,CACjCC,QAAQ,MACRC,YAAY,CAAC,KAAK,CAClBlD,KAAK,CAAET,IAAI,CAACH,QAAS,CACrB+D,QAAQ,CAAExD,iBAAkB,CAC7B,CAAC,EACC,CAAC,cACNlB,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQsE,IAAI,CAAC,QAAQ,CAACH,SAAS,CAAC,KAAK,CAAAD,QAAA,CAAC,cAAY,CAAQ,CAAC,EACvD,CAAC,EACJ,CAAC,CACH,CAAC,cAENlE,IAAA,QAAKmE,SAAS,CAAC,QAAQ,CAAAD,QAAA,cACrBhE,KAAA,MAAAgE,QAAA,EAAG,eAAU,cAAAlE,IAAA,SAAAkE,QAAA,CAAM,gBAAc,CAAM,CAAC,EAAG,CAAC,CACzC,CAAC,EACN,CAAC,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}